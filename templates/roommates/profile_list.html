{% extends "base.html" %}
{% block content %}
<style>
  :root{
    --bg:#f7f7fb;
    --card:#ffffff;
    --text:#1f1f29;
    --muted:#6b6f76;
    --primary:#5b3df5;
    --primary-700:#4a2fe6;
    --ring:#e7e8ee;
    --shadow:0 10px 30px rgba(12,18,38,.12);
  }

  .rm-wrap{
    background:var(--bg);
    padding:24px 0 32px;
  }

  .rm-head{
    max-width:1100px;
    margin:0 auto 16px;
    padding:0 16px;
  }
  .rm-title{
    margin:0;
    font-size:28px;
    font-weight:800;
    color:#111827;
  }
  .rm-sub{
    margin:6px 0 0 0;
    color:var(--muted);
    font-size:14px;
  }

  .rm-grid{
    max-width:1100px;
    margin:0 auto;
    padding:0 16px;
    display:grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap:16px;
  }
  @media (max-width: 1000px){
    .rm-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
  }
  @media (max-width: 640px){
    .rm-grid{ grid-template-columns: 1fr; }
  }

  .rm-card{
    background:var(--card);
    border:1px solid var(--ring);
    border-radius:16px;
    box-shadow:var(--shadow);
    padding:16px;
    display:flex;
    flex-direction:column;
    gap:8px;
    transition:transform .06s ease, border-color .15s ease, background .15s ease;
  }
  .rm-card:hover{ border-color:#d6d7de; transform:translateY(-1px); }

  .rm-name{
    margin:0 0 2px 0;
    font-size:18px;
    font-weight:800;
    color:#111827;
  }
  .rm-name a{ color:inherit; text-decoration:none; }
  .rm-name a:hover{ text-decoration:underline; }

  .rm-line{
    margin:0; font-size:14px; color:var(--text);
    background:#fafbff; border:1px solid var(--ring);
    border-radius:10px; padding:8px 10px;
  }
  .rm-bio{
    margin:2px 0 0 0; color:#374151; font-size:14px; font-style:italic;
  }

  .empty-card{
    max-width:1100px; margin:20px auto 0; padding:24px 16px;
    background:#fff; border:1px solid var(--ring); border-radius:16px; box-shadow:var(--shadow);
    text-align:center;
  }
  .empty-card p{ margin:0; color:var(--muted); }
</style>

<section class="rm-wrap">
  <header class="rm-head">
    <h1 class="rm-title">Find a Roommate</h1>
    <p class="rm-sub">Browse profiles of people looking for roommates.</p>
  </header>

  <div class="rm-grid">
    {% for profile in profiles %}
      <article class="rm-card">
        <h3 class="rm-name">
          <a href="{{ profile.get_absolute_url }}">{{ profile.user.username }}</a>
        </h3>

        <p class="rm-line"><strong>Budget:</strong> ${{ profile.budget }}/month</p>
        <p class="rm-line"><strong>Location Preference:</strong> {{ profile.location_preference }}</p>
        <p class="rm-bio">{{ profile.bio|truncatewords:20 }}</p>
      </article>
    {% empty %}
      <div class="empty-card">
        <p>No one is looking for a roommate right now.</p>
      </div>
    {% endfor %}
  </div>
</section>
{% endblock content %}
